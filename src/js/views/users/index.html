<!DOCTYPE html>

<!-- <div ng-model="user in UsersShow" class="userBackground">
  <img class="user" src="{{ usersIndex.currentUser.user.image }}">
</div> -->
<section class="section">
  <h2>Users</h2>

  <div>
    <input type="text" class="input is-primary" ng-model="usersIndex.q" placeholder="filter users by name..">
  </div>
</section>

<section class="section">
  <div class="columns is-multiline">
    <div ng-repeat="user in usersIndex.filtered" class="column is-half" ng-if="user.id !== main.currentUser.id">
      <img class="userImage" ng-src="{{ user.image }}">
      <h2>@: {{ user.username }}</h2>
      <h2>{{ user.full_name }}</h2>
      <h2><strong>Following:</strong></h2>
      <div ng-repeat="friend in user.friends">
        <h4>{{ friend.username }}</h4>
      </div>
      <p ng-if="usersIndex.isFriend(user)" class="button is-small is-primary friend">You are Friends!</p>
      <p ng-if="usersIndex.requested(user)" class="button is-small is-primary friend">Requested!</p>
      <a ng-click="usersIndex.requestFriend(user)" ng-if="!usersIndex.isFriend(user) && !usersIndex.requested(user)" class="button is-small is-primary">Add Friend</a>
    </div>
  </div>
</section>
